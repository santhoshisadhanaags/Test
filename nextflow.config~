/*
 * pipeline input parameters
 */

params {
    message = "hello world"
    message_greet = "welcome"
    outdir = "output"
    nextflow_logs = "nextflow"

}

docker {
    enabled = true
    registry = "docker.io"
}

tower{
    enabled = true
}

timeline {
    enabled = true
    file    = "${params.nextflow_logs}/timeline.html"
}
report {
    enabled = true
    file    = "${params.nextflow_logs}/report.html"
}
trace {
    enabled = true
    file    = "${params.nextflow_logs}/trace.txt"
}
dag {
    enabled = true
    file    = "${params.nextflow_logs}/dag.html"
}

google {
    project = 'genomics-sbx'
    location = 'us-central1'
    batch {
        spot = false
    }
    storage {
        maxTransferAttempts = 10
    }
    grpc {
        retryableCodes = [ 'UNAVAILABLE', 'DEADLINE_EXCEEDED', 'RESOURCE_EXHAUSTED' ]
        initialRpcTimeout = '2m'
        maxRpcTimeout = '2m'
        totalTimeout = '1h'
        initialRetryDelay = '1s'
        retryDelayMultiplier = 1.8
        maxRetryDelay = '30s'
    }
}

process {

    publishDir = [

    [
        path: { "${params.outdir}/" },
        report: { 'message.txt' },
        report_title: { "message Report" }
    ],

]
}
